<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <!-- <video src="./video/apple.mp4" autoplay loop muted controls></video> -->

    <canvas id="canvas" width="1920" height="1080"></canvas>

    <script>

        // // MDN 예시 사용해보기

        // // 캔버스를 가져온다.
        // var canvas = document.getElementById('canvas');

        // // 2D 그래픽을 그리기 위한 컨텍스트(함수)를 가져와서 세팅한다.
        // var ctx = canvas.getContext('2d');

        // // 세팅되어 있던 기본 컬러를 그린으로 변경한다.
        // ctx.fillStyle = 'green'; // 

        // // 사각형을 그린다.
        // ctx.fillRect(10, 10, 100, 100);


        // 1. 캔버스 및 컨텍스트를 가지고 온다.
        const canvas = document.querySelector("#canvas");
        const ctx = canvas.getContext('2d');

        // 2. 이미지를 불러온다.
        const imgCount = 500;
        let imgElement;
        let imgArray = [];

        // 3. 이미지를 불러와서 배열에 넣는다.
        for (let i = 0; i < imgCount; i++) {

            // img 태그를 만드는 것을 여기서 '똑같이' heap 영역에 만드는 것 => 참조값 발생
            // new = '이미지 객체를 heap에 할당한다'
            // HTML에서 img 태그로 DOM에 생성하는 이미지와 new Image()로 만드는 이미지는 완전히 같다.
            imgElement = new Image();
            imgElement.src = `./../RealApple/image/apple_${i}.png`;
            console.log(`./../RealApple/image/apple_${i}.png`);

            imgArray.push(imgElement);            

        }

        // load 이벤트는 자기가 로딩해야 할 리소스가 다 로딩되면 발생하는 이벤트
        // 배열의 모든 image 객체가 자신의 리소스를 다 로딩했다.
        imgElement.addEventListener('load', () => {

            ctx.drawImage(imgArray[0], 0, 0);
            
        });

    </script>
    
</body>
</html>